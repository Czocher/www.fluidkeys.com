<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Send encrypted secrets from the command-line: Fluidkeys v0.3</title>
    <link rel="alternate" type="application/atom+xml" title="Fluidkeys Blog" href="/blog/feed.xml" />
          <meta name="description" content="With Fluidkeys 0.3 you can send passwords, keys, tokens and personal data to team-mates using end-to-end encryption." />

    <link href="https://fonts.googleapis.com/css?family=Merriweather:400,900|Montserrat:500,700|Inconsolata" rel="stylesheet">
    <link href="../../stylesheets/site.css" rel="stylesheet" />
    <link href="../../stylesheets/pre-terminal.css" rel="stylesheet" />
  </head>
  <body id="">
    <header>
      <h1><a href="/">Fluidkeys</a></h1>
      <nav>
        <ul>
          <li><a href="/blog">Blog</a></li>
          <li><a href="/weeknotes">Weeknotes</a></li>
          <li><a href="/about">About</a></li>
          <li><a href="https://download.fluidkeys.com">Download</a></li>
        </ul>
      </nav>
    </header>
        <div class="full-width">
        <section class="variable-width-container">
                <p class="date">Tuesday 8th Jan 2019</p>
    <h1>Send encrypted secrets from the command-line: Fluidkeys v0.3</h1>
    <p>Today we proudly announce Fluidkeys 0.3 ðŸ˜„</p>

<p>With Fluidkeys v0.3 you can send passwords, keys, tokens and personal data to team-mates using end-to-end encryption.</p>

<p><img src="../../images/release-0-3-send-secret.svg" alt="Terminal showing sending a secret token to a team-mate" /></p>

<p>If you&#39;re keen to get started, head to <a href="https://download.fluidkeys.com">download.fluidkeys.com</a></p>

<h2>Sharing passwords, tokens, credentials and keys</h2>

<p>From listening to engineering teams, we heard a number of different types of sensitive information with similar characteristics:</p>

<ul>
<li><strong>Names and addresses</strong> of customers <a href="https://en.wikipedia.org/wiki/Personally_identifiable_information">(PII)</a> shared with other teams</li>
<li><strong>API access tokens</strong> sent to external developer partners</li>
<li><strong>SSH key pairs</strong> for Amazon EC2 shared with freelance developers</li>
<li><strong>IAM credentials</strong> for Amazon Web Services</li>
<li><strong>Temporary passwords</strong> sent to new team members</li>
<li><strong>PGP private keys</strong> for shared mailboxes</li>
<li><strong>Encryption passwords</strong> for encrypted ZIP files</li>
</ul>

<p>These are small bits of text, fairly short lived, with a potentially high impact if breached (like a <a href="https://www.quora.com/My-AWS-account-was-hacked-and-I-have-a-50-000-bill-how-can-I-reduce-the-amount-I-need-to-pay">$50,000 Amazon bill</a>)</p>

<h3>How to quickly share throwaway secrets?</h3>

<p>You&#39;ve got stuff to do, you need to get this thing sent, what are you going to do?</p>

<p>The easy route is to throw it into Slack and hope they aren&#39;t next week&#39;s big data breach.</p>

<p>Maybe you could use a messaging app like WhatsApp or Signal. But that requires you know your team-mate&#39;s number, which isn&#39;t the norm for many teams. And WhatsApp is determined to back itself up to Google Drive, so it&#39;ll probably end up there too.</p>

<p>You could use GPG, but can you remember the command? And do you have the other person&#39;s public key? And are you confident that they&#39;ll copy-paste the funny text correctly on their end?</p>

<pre>
<span class="prompt">$</span> gpg --armor --recipient paul@fluidkeys.com --encrypt
-----BEGIN PGP MESSAGE-----

hQEMA35uuyjbagYuAQf/eqfq3MCS96ZNNQeI7S3zGs7FiAIiQ7qU5Oa1Dz6/UizC
pQnTHjoupyGChXeDz9XDdmWtTuvYArlnjdVJfySHWGDQ66mm/IUie0jsnTOss6P1
...
</pre>

<p>You could put it in your shared password manager, but it&#39;s a bit overkill since you only need to send it once, and sometimes you see a delay on shared items showing up.</p>

<h3>Send encrypted secrets from the command-line</h3>

<p>With Fluidkeys you can send PGP-encrypted secrets directly from the command-line using your team-mate&#39;s email address.</p>

<pre class="terminal">
<span class="prompt">$</span> fk secret send paul@fluidkeys.com
</pre>

<h2>Fluidkeys fetches public keys automatically</h2>

<p>When you install and set up Fluidkeys, you&#39;re asked for your email address. Once you&#39;ve verified it, others can send you secrets. You don&#39;t need to manually exchange public keys.</p>

<p>Fluidkeys automatically fetches keys based on the verified email address and encrypts the secret to the key.</p>

<pre class="terminal">
<span class="prompt">$</span> fk secret send paul@fluidkeys.com
<span class="positive"> â–¸   Found public key for paul@paulfurley.com</span>
</pre>

<p>We use <a href="https://github.com/fluidkeys.api">our own server</a> to store public keys and transmit encrypted secrets.</p>

<h2>Install and set up Fluidkeys in 2 minutes</h2>

<p>We&#39;ve heard from a number of teams that it&#39;s time consuming to set up new starters with PGP and we&#39;ve worked hard on this.</p>

<p>It takes around 2 minutes for new users to install Fluidkeys, generate a PGP key, verify your email and start sending and receiving encrypted secrets.</p>

<p><a href="https://download.fluidkeys.com">Take the two-minute challenge</a></p>

<h2>Things to be aware of</h2>

<h3>Fluidkeys stores your keys in gpg</h3>

<p>Beware that Fluidkeys doesn&#39;t implement its own storage of keys: it stores them in <code>gpg</code>. If you delete a key from <code>gpg</code>, there&#39;s no copy in Fluidkeys. We don&#39;t modify the <code>GNUPGHOME</code> directory: we push and pull straight from your default <code>gpg2</code> installation.</p>

<p>This is helpful if you use your keys for anything else like signing commits with <code>git</code> or encrypted email with Thunderbird.</p>

<p>Those applications will use keys made by Fluidkeys, and Fluidkeys will keep them updated.</p>

<h3>Fluidkeys stores your key&#39;s password in your system keychain</h3>

<p>In order to be able to rotate your key automatically, Fluidkeys stores the password to your private key in your system keychain. You can see these by searching for &quot;Fluidkeys&quot;.</p>

<h3>Fluidkeys doesn&#39;t upload to the public keyserver network</h3>

<p>We chose not to use the public keyserver network until it supports deleting keys and cryptographic validation.</p>

<p>If you do want to upload to the public keyservers, make sure you automate it. Because Fluidkeys automatically rotates your encryption subkey every month, your key will quickly become out of sync with the keyservers. You could add cron task to upload your key regularly:</p>

<p>Edit your crontab by running <code>crontab -e</code> and add this line:</p>

<pre><code>@daily gpg --keyserver pool.sks-keyservers.net --send-key &lt;email address&gt;
</code></pre>

<h2>Download Fluidkeys v0.3</h2>

<p>On to business: head on over to <a href="https://download.fluidkeys.com">download.fluidkeys.com</a> to get started.</p>

<pre class="terminal">
<span class="prompt">$</span> fk --help
Fluidkeys 0.3.0

Configuration file: /home/paul/.config/fluidkeys/config.toml

Usage:
    fk setup
    fk setup &lt;email&gt;
    fk secret send &lt;recipient-email-address&gt;
    fk secret receive
    fk key create
    fk key from-gpg
    fk key list
    fk key maintain [--dry-run]
    fk key maintain automatic [--cron-output]
    fk key upload

Options:
    -h --help         Show this screen
       --dry-run      Don't change anything: only output what would happen
       --cron-output  Only print output on errors

</pre>

<h2>What do you think?</h2>

<p>Please have a go and let us know how you get on!</p>

<p>We&#39;re excited to hear from you :)</p>

<p>â€” Paul &amp; Ian</p>

<p><a href="mailto:hello@fluidkeys.com">Email hello@fluidkeys.com</a></p>

    <hr />
    <p><a href="/blog">Back to all posts</a></p>

        </section>
    </div>

    <footer>
      <div class="content">
        <p>
          <a href="mailto:hello@fluidkeys.com">hello@fluidkeys.com</a>
          <a href="/blog/feed.xml"><img src="../../images/rss-icon.svg" class="rss-icon" alt="Rss icon" />RSS feed</a>
        </p>
      </div>
    </footer>
    <script>
  var dnt = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
  if (dnt != "1" && dnt != "yes") {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-121440356-1', 'auto');
    ga('set', 'anonymizeIp', true);
    ga('send', 'pageview');
  } else {
    console.debug("Respecting Do-Not-Track, not loading analytics. See https://www.paulfurley.com/google-analytics-dnt/");
  }
</script>
  </body>
</html>
